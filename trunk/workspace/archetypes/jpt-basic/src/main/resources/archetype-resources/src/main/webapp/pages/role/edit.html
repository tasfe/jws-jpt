<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<link type="text/css" media="all" rel="stylesheet" href="../../styles/default/basic.css" />
<link type="text/css" media="all" rel="stylesheet" href="../../styles/default/edit.css" />
<style type="text/css">
<!--
li div {
	float:left;
	padding-left:10px;
	width: 150px;
	height:30px;
}

fieldset label {
	width:auto;
	font-weight:normal;
}
-->
</style>

<script type="text/javascript" src="../../scripts/jquery.js?v=1.2.6"></script>
<script type="text/javascript" src="../../scripts/toolkit.js?v=1.0.0"></script>
<script type="text/javascript" src="../../scripts/global.js?v=1.0.0"></script>
<script type="text/javascript">
<!--
function initialize(data){
	loadScripts2([JPT.ctx.base + '/server/scripts/validation.js?model=role']);
}
//-->
</script>

</head>
<body>
<textarea id="main_jst" style="display:none;">
<form name="roleForm" id="roleForm" method="post" action="${JPT.ctx.base}/pages/role/update/${role.id}.html">
	<div>
		<input type="hidden" name="model.id" value="${role.id}" />
	</div>
	<ul>
		<li>
			<label for="name">名称:</label>
			<input type="text" class="text" name="model.name" id="model_name" value="${role.name}" />
		</li>
		<li>
			<label for="descr">描述:</label>
			<input type="text" class="text" name="model.descr" id="model_descr" value="${role.descr}" />
		</li>
		<li>
			<fieldset>
				<legend>权限</legend>
				{for permis in allpermis}
				{eval}
					checked = role.permissions.some(function(p){
						return p.id == this.id;
					},permis);			
				{/eval}
				<div>
					<input type="checkbox" class="checkbox" name="model.permisids" id="model_permisids_${permis.id}" value="${permis.id}"{if checked} checked="checked"{/if} />
					<label for="model_permisids_${permis.id}">${permis.name}</label>
				</div>
				{/for}
			</fieldset>
		</li>
		<li class="op">
			<input type="submit" class="jpt-ajax button" name="method:update" value="${JPT.ctx.lang['op.save']}" />
			<input type="button" class="jpt-back button" value="${JPT.ctx.lang['op.back']}" />
		</li>
	</ul>
</form>
</textarea>
<div id="main"></div>
</body>
</html>
